#设计原则

面向对象的七大设计原则：
    
    设计目标类：开闭原则、里氏替换原则、迪米特原则（最少依赖原则）；
    设计方法类：单一职责原则、接口隔离原则、组合/聚合复用原则、依赖倒置原则。

##1、开闭原则（OCP：The Open-Closed Principle）

###1.1 What 【基本概念】
    
    对扩展开放，对修改关闭，一个类完成后禁止修改源码。
        
###1.2 How  【实现方式】

    继承：类继承，基于原始类扩展，复用部分逻辑。
    抽象：接口实现，原始类抽象出接口，对实现扩展，只复用设计。
    
###1.3 Why  【优缺点】

    稳定性：对修改关闭可以带来稳定性的提升，避免多次对相同逻辑进行测试、发布。
    扩展性：对扩展开放可以提升系统的拓展能力。 
    
##2、里氏替换原则（LSP：Liskov Substitution Principle）

###2.1 What 【基本概念】

    继承必须确保超类所拥有的性质在子类中仍然成立，派生类应当可以替换基类并出现在基类能够出现的任何地方，或者说如果我们把代码中使用基类的地方用它的派生类所代替，代码还能正常工作。
    
###2.2 How  【实现方式】

    子类可以实现父类的抽象方法，但不能覆盖父类的非抽象方法；
    子类中可以增加自己特有的方法；
    当子类的方法重载父类的方法时，前置条件（输入/入参）要比父类方法的前置条件更宽松或相等；
    当子类的方法实现父类的方法时，后置条件（输出/出参）要比父类更严格或相等。
    
###2.3 Why  【优缺点】
    
    约束继承泛滥、增强健壮性。

##3、迪米特法则（最少依赖原则）（LoD：Law of Demeter）

###3.1 What 【基本概念】

    一个软件实体应当尽可能少地与其他实体发生相互作用；
    每一个软件单位对其他的单位都只有最少的知识，而且局限于那些与本单位密切相关的软件单位。
    
###3.2 How  【实现方式】

     类之间不直接接触，通过第三者转发调用；
     类尽量不要对外公布太多的public方法和非静态的public变量，尽量内敛，多使用private、protected等访问权限。
    

###3.3 Why  【优缺点】

    优点：降低类或系统之间的耦合；
    缺点：可能会系统中存在大量的中介类，增加了系统的复杂度。

##4、单一职责原则

###4.1 What 【基本概念】

    一个类有且仅有一个职责，引起它变化的原因永远只有一个。

###4.2 How  【实现方式】
    
    高内聚低耦合：解耦、增强内聚性。

###4.3 Why  【优缺点】

    降低复杂度、提高可读性，提高系统的可维护性、降低变更引起的风险。

##5、接口隔离原则（ISP：Interface Segregation Principle）

###5.1 What 【基本概念】

    不能强迫用户去依赖那些他们不使用的接口，使用多个专门的接口比使用单一的总接口总要好。
    接口的设计原则：接口的设计应该遵循最小接口原则，不要把用户不使用的方法塞进同一个接口里。
    接口的依赖（继承）原则：如果一个接口a继承另一个接口b，那么继承了接口b后的接口a也应该遵循上述原则：不应该包含用户不使用的方法。
    
###5.2 How  【实现方式】

    一个类对一个类的依赖应该建立在最小的接口上；
    建立单一接口，不要建立庞大臃肿的接口；
    尽量细化接口，接口中的方法尽量少。

###5.3 Why  【优缺点】
    
    优点：提升可读性、可扩展性和可维护性。
    缺点：接口分隔要适度，避免产生大量的细小接口

##6、依赖倒置原则（DIP：Dependency Inversion Principle）

###6.1 What 【基本概念】
    
    依赖：在程序设计中，如果一个模块a使用/调用了另一个模块b，我们称模块a依赖模块b。    
    高层模块与低层模块：往往在一个应用程序中，我们有一些低层次的类，这些类实现了一些基本的或初级的操作，我们称之为低层模块；另外有一些高层次的类，这些类封装了某些复杂的逻辑，并且依赖于低层次的类，这些类我们称之为高层模块。
    程序要依赖于抽象接口，不要依赖于具体实现：
    A. 高层模块不依赖于低层模块，二者都应该依赖于抽象；
    B. 抽象不应该依赖于细节，细节应该依赖于抽象。

###6.2 How  【实现方式】

    在高层模块与低层模块之间，引入一个抽象接口层。抽象接口是对低层模块的抽象，低层模块继承或实现该抽象接口。类与类之间都通过抽象接口层来建立关系。

###6.3 Why  【优缺点】

    降低耦合性、提高系统稳定性，提高代码可读性和可维护性，可降低修改程序所造成的风险。

##7、组合/聚合复用原则（CARP：Composite/Aggregate Reuse Principle）

###7.1 What 【基本概念】
    
    聚合：整体和部分的关系，整体“拥有”部分。
    组合：部分是整体的组成，和整体的生命周期一样。
    在面向对象设计中，有两种基本的办法可以实现复用：第一种是组合/聚合，第二种是继承。
    如果语义上存在着明确的"Is-A"关系，并且这种关系是稳定的、不变的，则考虑使用继承；如果没有"Is-A"关系，或者这种关系是可变的，使用组合。

###7.2 How  【实现方式】

    一个新的对象里面使用一些已有的对象，使之成为新对象的一部分，新对象通过向这些对象的委派达到复用已有功能的目的。
    
###7.3 Why  【优缺点】
    
    优点：提高代码复用，
    缺点：系统中会有较多的对象需要管理。
